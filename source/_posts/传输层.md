---
title: 传输层(上)
author: 菠菜
top: false
cover: false
coverImg: ' https://api.dujin.org/bing/1366.php'
toc: true
mathjax: true
tags:
  - null
  - null
abbrlink: 23658
date: 2020-04-05 16:54:22
summary:
categories:
---

## 传输层(上)

传输层协议:运行在不同主机上进程的逻辑通信机制.

> 逻辑通信:仿佛直接不同主机的进程之间直接通信,依赖网络层,网络层是主机之间的逻辑通信

常用协议:TCP和UDP协议

### 多路复用/分用

如果某一层的一个协议对应直接上层的多个协议/实体,则需要复用/分用.

![](https://gitee.com/Laicize/images/raw/master/img/20200405171218.png)

> socket:传输层和应用层之间的'门'

![](https://gitee.com/Laicize/images/raw/master/img/20200405171758.png)

> UDP:只需要源端口号,目的端口号
>
> TCP:需要源IP,端口号,目的IP.端口号

### 无线连接传输协议

UDP:尽力而为,可能丢失,非按序到达

1. 复用/分用
2. 简单的错误检测

> 无连接,延迟短,实现简单,头部开销少,没有拥塞控制.应用可以更好的控制发送时间和速率
>
> 可以在应用层增加可靠性机制

![](https://gitee.com/Laicize/images/raw/master/img/20200405174328.png)

#### UDP的校验(checksum)

![](https://gitee.com/Laicize/images/raw/master/img/20200405174604.png)

eg:![image-20200405174814669](/home/wang/.config/Typora/typora-user-images/image-20200405174814669.png)

### 可靠数据传输原理

![](https://gitee.com/Laicize/images/raw/master/img/20200405175617.png)

> 在不可靠的网络层传输信息,需要双向验证
>
> 而应用层与传输层之间可靠的传输,则只需要单向调用

### 滑动窗口协议(流水线)

![](https://gitee.com/Laicize/images/raw/master/img/20200405202928.png)

>  解决停等机制带来的额效率低下问题

#### Co-Back-N(GBN)协议

发送方:![](https://gitee.com/Laicize/images/raw/master/img/20200405203458.png)

> 累计确认机制,失败重发一组所有信息,资源浪费

